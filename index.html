<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quality Assessment of Scans of Land Engraved Areas on Fired Bullets • DS401</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Quality Assessment of Scans of Land Engraved Areas on Fired Bullets">
<meta property="og:description" content="When topographic scans are taken under Confocal Light Microscopes 
    even small differences in settings can have a large impact on the acquired
    data. This package implements a set of features assessing the quality of a 
    scan by investigating the structure where the scan has missing values.
    These features are used as training data in two random forests that predict
    the quality of scans, and if found lacking, also predict the reason for its
    lack of quality.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">DS401</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="ds401">DS401<a class="anchor" aria-label="anchor" href="#ds401"></a>
</h1></div>
<!-- badges: start -->
<p>The goal of the DS401 R package is to assess quality of 3d topographics scans in form of x3p images.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of DS401 from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"heike/DS401"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">DS401</span><span class="op">)</span></span>
<span><span class="co">## basic example code</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/heike/x3ptools" class="external-link">x3ptools</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="this-scan-has-a-lot-of-problems">This scan has a lot of problems<a class="anchor" aria-label="anchor" href="#this-scan-has-a-lot-of-problems"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/x3ptools/man/x3p_image.html" class="external-link">x3p_image</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span>, file <span class="op">=</span> <span class="st">"man/figures/fau277_bb_l2.png"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/fau277_bb_l2.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="this-scan-is-about-as-good-as-we-can-hope-for">This scan is about as good as we can hope for<a class="anchor" aria-label="anchor" href="#this-scan-is-about-as-good-as-we-can-hope-for"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/x3ptools/man/x3p_image.html" class="external-link">x3p_image</a></span><span class="op">(</span><span class="va">fau001_ba_l1</span>, file <span class="op">=</span> <span class="st">"man/figures/fau001_ba_l1.png"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/fau001_ba_l1.png" width="100%"></p>
<p>The <code>DS401</code> package combines a set of functions assessing the quality of scans.</p>
</div>
<div class="section level3">
<h3 id="feature-extracted">Feature extracted<a class="anchor" aria-label="anchor" href="#feature-extracted"></a>
</h3>
<div class="section level4">
<h4 id="overall-number-of-missing-values">Overall number of missing values<a class="anchor" aria-label="anchor" href="#overall-number-of-missing-values"></a>
</h4>
<p><code>extract_na</code> calculates the percentage of values that are missing in the surface matrix of the scan. For the scans shown above, the percentages are quite high for the bad scan and low for the good scan</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/extract_na.html">extract_na</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 38.26887</span></span>
<span><span class="fu"><a href="reference/extract_na.html">extract_na</a></span><span class="op">(</span><span class="va">fau001_ba_l1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 13.83538</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="col_na-function">col_na Function<a class="anchor" aria-label="anchor" href="#col_na-function"></a>
</h4>
<p>The col_na function’s goal is to distinguish between good and bad scans based on the proportion of columns with large proportions of missing values. It takes in three parameters, which are an x3p object, a percentage to be used as the number acceptable percentage of missing values in a column, and the proportion that bad columns that is the threshold for a good scan.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/assess_col_na.html">assess_col_na</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4.716293</span></span>
<span><span class="fu"><a href="reference/assess_col_na.html">assess_col_na</a></span><span class="op">(</span><span class="va">fau001_ba_l1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.8625219</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="assess-median-na-proportion">Assess Median NA Proportion<a class="anchor" aria-label="anchor" href="#assess-median-na-proportion"></a>
</h4>
<p>‘assess_median_na_proportion’ calculates the median proportion of NA values present in the middle of a 3d scan from a specific number of different y values. Specifically this variable is calculating the amount of feathering occuring in the 3d scans.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/assess_median_na_proportion.html">assess_median_na_proportion</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span><span class="op">)</span><span class="co"># This scan seems to have a problem with feathering</span></span>
<span><span class="co">#&gt; [1] 0.08906883</span></span>
<span><span class="fu"><a href="reference/assess_median_na_proportion.html">assess_median_na_proportion</a></span><span class="op">(</span><span class="va">fau001_ba_l1</span><span class="op">)</span><span class="co"># good scan</span></span>
<span><span class="co">#&gt; [1] 0.001310616</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="assess-bottom-empty">Assess Bottom Empty<a class="anchor" aria-label="anchor" href="#assess-bottom-empty"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/assess_bottomempty.html">assess_bottomempty</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 95.20528</span></span>
<span><span class="fu"><a href="reference/assess_bottomempty.html">assess_bottomempty</a></span><span class="op">(</span><span class="va">fau001_ba_l1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 22.90831</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="assess-middle-na-proportion">Assess Middle NA Proportion<a class="anchor" aria-label="anchor" href="#assess-middle-na-proportion"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/assess_middle_na_proportion.html">assess_middle_na_proportion</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.316787</span></span>
<span><span class="fu"><a href="reference/assess_middle_na_proportion.html">assess_middle_na_proportion</a></span><span class="op">(</span><span class="va">fau001_ba_l1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.02565556</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="assess-percentile-na-proportion">Assess Percentile NA Proportion<a class="anchor" aria-label="anchor" href="#assess-percentile-na-proportion"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/assess_percentile_na_proportion.html">assess_percentile_na_proportion</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.7013605</span></span>
<span><span class="fu"><a href="reference/assess_percentile_na_proportion.html">assess_percentile_na_proportion</a></span><span class="op">(</span><span class="va">fau001_ba_l1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.00244798</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="assess-rotation">Assess Rotation<a class="anchor" aria-label="anchor" href="#assess-rotation"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/assess_rotation.html">assess_rotation</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.720705</span></span>
<span><span class="fu"><a href="reference/assess_rotation.html">assess_rotation</a></span><span class="op">(</span><span class="va">fau001_ba_l1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.098612</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="extract-median-na-proportion">Extract Median NA Proportion<a class="anchor" aria-label="anchor" href="#extract-median-na-proportion"></a>
</h4>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/extract_median_na_proportion.html">extract_median_na_proportion</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.08906883</span></span>
<span><span class="fu"><a href="reference/extract_median_na_proportion.html">extract_median_na_proportion</a></span><span class="op">(</span><span class="va">fau001_ba_l1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.001310616</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="predictions">Predictions<a class="anchor" aria-label="anchor" href="#predictions"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/predict_quality.html">predict_quality</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">fau277_bb_l2</span>, <span class="va">fau001_ba_l1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: randomForest</span></span>
<span><span class="co">#&gt; randomForest 4.7-1</span></span>
<span><span class="co">#&gt; Type rfNews() to see new features/changes/bug fixes.</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 11</span></span>
<span><span class="co">#&gt;   x3p       x3pname quality_pred quality_type assess_percentile_n… assess_col_na</span></span>
<span><span class="co">#&gt;   &lt;I&lt;list&gt;&gt;   &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;                       &lt;dbl&gt;         &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 &lt;x3p&gt;           1        0.85  good                      0.0891          4.72 </span></span>
<span><span class="co">#&gt; 2 &lt;x3p&gt;           1        0.906 good                      0.00131         0.863</span></span>
<span><span class="co">#&gt; # … with 5 more variables: extract_na &lt;dbl&gt;, assess_middle_na_proportion &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   assess_rotation &lt;dbl&gt;, assess_bottomempty &lt;dbl&gt;, lighting_protocol &lt;fct&gt;</span></span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing DS401</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jacob Baalsen <br><small class="roles"> Author </small>  </li>
<li>Yangfan Cai <br><small class="roles"> Author </small>  </li>
<li>Michael Egle <br><small class="roles"> Author </small>  </li>
<li>Kedell Guevara <br><small class="roles"> Author </small>  </li>
<li>Jacob Townsley <br><small class="roles"> Author </small>  </li>
<li>Heike Hofmann <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6216-5183" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/heike/DS401/actions" class="external-link"><img src="https://github.com/heike/DS401/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Jacob Baalsen, Yangfan Cai, Michael Egle, Kedell Guevara, Jacob Townsley, Heike Hofmann.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
